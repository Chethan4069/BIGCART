--- START OF FILE checkout.html ---

<!DOCTYPE html>
<html lang="en">
<head>
<title>Big cart - Checkout</title>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="description" content="Colo Shop Template">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="styles/bootstrap4/bootstrap.min.css">
<link href="plugins/font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">
<link rel="stylesheet" type="text/css" href="plugins/OwlCarousel2-2.2.1/owl.carousel.css">
<link rel="stylesheet" type="text/css" href="plugins/OwlCarousel2-2.2.1/owl.theme.default.css">
<link rel="stylesheet" type="text/css" href="plugins/OwlCarousel2-2.2.1/animate.css">
<link rel="stylesheet" type="text/css" href="styles/main_styles.css">
<link rel="stylesheet" type="text/css" href="styles/responsive.css">

<style>
/* Custom styles for the checkout page content */
.checkout_section {
    padding-top: 180px; /* Start content below header */
    padding-bottom: 100px;
    background-color: #f2f2f2;
}
.checkout_form_container, .order_summary_container {
    background: #fff;
    padding: 30px;
    border-radius: 5px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
}
h5, .order_summary_title {
    font-size: 1.1rem;
    font-weight: 600;
    color: #333;
    margin-top: 25px;
    margin-bottom: 20px;
    padding-bottom: 10px;
    border-bottom: 1px solid #e5e5e5;
}
h5:first-of-type {
    margin-top: 0;
}
.order_summary_item { display: flex; align-items: center; margin-bottom: 15px; font-size: 0.9rem; }
.order_summary_image { width: 65px; height: 65px; margin-right: 15px; border: 1px solid #e5e5e5; border-radius: 5px; padding: 5px; }
.order_summary_image img { width: 100%; height: 100%; object-fit: contain; }
.order_summary_info { flex-grow: 1; }
.order_summary_price { font-weight: 500; color: #333; }
.order_total { margin-top: 20px; padding-top: 15px; border-top: 1px solid #e5e5e5; }
.order_total_item { display: flex; justify-content: space-between; margin-bottom: 10px; }
.order_total_item:last-of-type { font-weight: bold; font-size: 1.25rem; color: #1e1e27; margin-top: 10px; }
.shipping_option, .payment_option { border: 1px solid #ced4da; padding: 15px; border-radius: 5px; cursor: pointer; margin-bottom: 10px; }
.form-control:focus { border-color: #fe4c50; box-shadow: none; }
.place_order_btn { width: auto; border: none; }
</style>
</head>

<body>

<div class="super_container">

	<!-- Header -->

	<header class="header trans_300">

		<!-- Top Navigation -->

		<div class="top_nav">
			<div class="container">
				<div class="row">
					<div class="col-md-6">
						<div class="top_nav_left">free shipping on all INR orders over $50</div>
					</div>
					<div class="col-md-6 text-right">
						<div class="top_nav_right">
							<ul class="top_nav_menu">

								<!-- Currency / Language / My Account -->

								<li class="currency">
									<a href="#">
										INR
										<i class="fa fa-angle-down"></i>
									</a>
									<ul class="currency_selection">
										<li><a href="#">USD</a></li>
									</ul>
								</li>
								<li class="language">
									<a href="#">
										English
										<i class="fa fa-angle-down"></i>
									</a>
									<ul class="language_selection">
										<li><a href="#">Hindi</a></li>
						                <li><a href="#">Kannada</a></li>
									</ul>
								</li>
								<li class="account">
									<a href="#">
										My Account
										<i class="fa fa-angle-down"></i>
									</a>
									<ul class="account_selection">
										<li><a href="profile_page.html"><i class="fa fa-sign-in" aria-hidden="true"></i>Profile</a></li>
                                        <li><a href="#"><i class="fa fa-sign-in" aria-hidden="true"></i>Settings</a></li>
										<li><a href="index.html"><i class="fa fa-sign-in" aria-hidden="true"></i>Logout</a></li>
									</ul>
								</li>
							</ul>
						</div>
					</div>
				</div>
			</div>
		</div>

		<!-- Main Navigation -->

		<div class="main_nav_container">
			<div class="container">
				<div class="row">
					<div class="col-lg-12 text-right">
						<div class="logo_container">
							<a href="#">Big<span>cart</span></a>
						</div>
						<nav class="navbar">
							<ul class="navbar_menu">
								<li><a href="home.html">home</a></li>
								<li><a href="categories.html">shop</a></li>
								<li><a href="#">promotion</a></li>
								<li><a href="#">pages</a></li>
								<li><a href="contact.html">contact</a></li>
							</ul>
							<ul class="navbar_user">
								<li><a href="#"><i class="fa fa-search" aria-hidden="true"></i></a></li>
								<li><a href="profile_page.html"><i class="fa fa-user" aria-hidden="true"></i></a></li>
								<li class="checkout">
									<a href="cart.html">
										<i class="fa fa-shopping-cart" aria-hidden="true"></i>
										<span id="checkout_items" class="checkout_items">2</span>
									</a>
								</li>
							</ul>
							<div class="hamburger_container">
								<i class="fa fa-bars" aria-hidden="true"></i>
							</div>
						</nav>
					</div>
				</div>
			</div>
		</div>

	</header>

	<div class="fs_menu_overlay"></div>
	<div class="hamburger_menu">
		<div class="hamburger_close"><i class="fa fa-times" aria-hidden="true"></i></div>
		<div class="hamburger_menu_content text-right">
			<ul class="menu_top_nav">
				<li class="menu_item has-children">
					<a href="#">
						INR
						<i class="fa fa-angle-down"></i>
					</a>
					<ul class="menu_selection">
						<li><a href="#">USD</a></li>
					</ul>
				</li>
				<li class="menu_item has-children">
					<a href="#">
						English
						<i class="fa fa-angle-down"></i>
					</a>
					<ul class="menu_selection">
						<li><a href="#">Hindi</a></li>
						<li><a href="#">Kannada</a></li>
					</ul>
				</li>
				<li class="menu_item has-children">
					<a href="#">
						My Account
						<i class="fa fa-angle-down"></i>
					</a>
					<ul class="menu_selection">
						<li><a href="#"><i class="fa fa-sign-in" aria-hidden="true"></i>Profile</a></li>
                        <li><a href="#"><i class="fa fa-sign-in" aria-hidden="true"></i>settings</a></li>
						<li><a href="index.html"><i class="fa fa-sign-in" aria-hidden="true"></i>Logout</a></li>
					</ul>
				</li>
				<li class="menu_item"><a href="#">home</a></li>
				<li class="menu_item"><a href="#">shop</a></li>
				<li class="menu_item"><a href="#">promotion</a></li>
				<li class="menu_item"><a href="#">pages</a></li>
				<li class="menu_item"><a href="#">contact</a></li>
			</ul>
		</div>
	</div>


	<!-- Checkout Content -->
	<div class="checkout_section">
        <div class="container">
            <div class="row">
                <!-- Checkout Form -->
                <div class="col-lg-7">
                    <div class="checkout_form_container">
                        <form action="#" id="checkout_form">
                            <h5>1. Contact information</h5>
                            <div class="form-group"><input type="email" id="checkout_email" class="form-control" placeholder="Email address" required></div>
                            <div class="form-check"><input type="checkbox" class="form-check-input" id="emailOffers"><label class="form-check-label" for="emailOffers" style="font-size: 0.9rem;">Email me with news and offers</label></div>

                            <h5>2. Shipping address</h5>
                            <div class="row">
                                <div class="col-md-6 form-group"><input type="text" id="shipping_first_name" class="form-control" placeholder="First name" required></div>
                                <div class="col-md-6 form-group"><input type="text" id="shipping_last_name" class="form-control" placeholder="Last name" required></div>
                            </div>
                            <div class="form-group"><input type="text" id="shipping_address" class="form-control" placeholder="Address" required></div>
                            <div class="form-group"><input type="text" id="shipping_apartment" class="form-control" placeholder="Apartment, suite, etc. (optional)"></div>
                            <div class="form-group"><input type="text" id="shipping_country" class="form-control" placeholder="Country/Region" value="India" required></div>
                            <div class="row">
                                <div class="col-md-6 form-group"><input type="text" id="shipping_city" class="form-control" placeholder="City" required></div>
                                <div class="col-md-6 form-group"><input type="text" id="shipping_state" class="form-control" placeholder="State" required></div>
                            </div>
                            <div class="row">
                                <div class="col-md-6 form-group"><input type="text" id="shipping_zip" class="form-control" placeholder="PIN Code" required></div>
                                <div class="col-md-6 form-group"><input type="text" id="shipping_phone" class="form-control" placeholder="Phone (optional)"></div>
                            </div>
							<div class="form-check"><input type="checkbox" class="form-check-input" id="saveBilling"><label class="form-check-label" for="saveBilling" style="font-size: 0.9rem;">Use same address for billing</label></div>

                            <h5>3. Shipping options</h5>
                            <div class="shipping_option d-flex justify-content-between align-items-center">
                                <div><input type="radio" name="shipping" id="free_shipping" value="Free shipping" checked class="mr-2"> <label for="free_shipping" class="mb-0">Free shipping</label></div>
                                <div><strong>FREE</strong></div>
                            </div>

                            <h5>4. Payment options</h5>
                            <div class="payment_option">
                                <input type="radio" name="payment" id="cod" value="Cash on delivery" checked class="mr-2"> <label for="cod" class="mb-0">Cash on delivery</label>
                                <p class="small text-muted mt-2 mb-0">Pay with cash upon delivery.</p>
                            </div>
                            <div class="form-group mt-3"><textarea class="form-control" id="order_note" rows="3" placeholder="Add a note to your order..."></textarea></div>
                            
                            <div class="d-flex justify-content-between align-items-center mt-4">
                                <a href="cart.html" class="text-muted trans_300"><i class="fa fa-angle-left mr-1" aria-hidden="true"></i>Return to Cart</a>
                                <button type="submit" class="red_button place_order_btn">Place Order</button>
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Order Summary -->
                <div class="col-lg-5">
                    <div class="order_summary_container">
                        <div class="order_summary_title">Order summary</div>
                        <div id="order_summary_items"></div>
                        <div class="order_total">
                            <div class="order_total_item"><div>Subtotal</div><div id="summary_subtotal">$0.00</div></div>
                            <div class="order_total_item"><div>Shipping</div><div id="summary_shipping">Free</div></div>
                            <div class="order_total_item"><div>GST</div><div id="summary_gst">$0.00</div></div>
                            <div class="order_total_item"><div>Total</div><div id="summary_total">$0.00</div></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
	
	<!-- Newsletter -->

	<div class="newsletter">
		<div class="container">
			<div class="row">
				<div class="col-lg-6">
					<div class="newsletter_text d-flex flex-column justify-content-center align-items-lg-start align-items-md-center text-center">
						<h4>Newsletter</h4>
						<p>Subscribe to our newsletter and get 20% off your first purchase</p>
					</div>
				</div>
				<div class="col-lg-6">
					<form action="post">
						<div class="newsletter_form d-flex flex-md-row flex-column flex-xs-column align-items-center justify-content-lg-end justify-content-center">
							<input id="newsletter_email" type="email" placeholder="Your email" required="required" data-error="Valid email is required.">
							<button id="newsletter_submit" type="submit" class="newsletter_submit_btn trans_300" value="Submit">subscribe</button>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>

	<!-- Footer -->

	<footer class="footer">
		<div class="container">
			<div class="row">
				<div class="col-lg-6">
					<div class="footer_nav_container d-flex flex-sm-row flex-column align-items-center justify-content-lg-start justify-content-center text-center">
						<ul class="footer_nav">
							<li><a href="#">Blog</a></li>
							<li><a href="#">FAQs</a></li>
							<li><a href="contact.html">Contact us</a></li>
						</ul>
					</div>
				</div>
				<div class="col-lg-6">
					<div class="footer_social d-flex flex-row align-items-center justify-content-lg-end justify-content-center">
						<ul>
							<li><a href="#"><i class="fa fa-facebook" aria-hidden="true"></i></a></li>
							<li><a href="#"><i class="fa fa-twitter" aria-hidden="true"></i></a></li>
							<li><a href="#"><i class="fa fa-instagram" aria-hidden="true"></i></a></li>
							<li><a href="#"><i class="fa fa-skype" aria-hidden="true"></i></a></li>
							<li><a href="#"><i class="fa fa-pinterest" aria-hidden="true"></i></a></li>
						</ul>
					</div>
				</div>
			</div>
			<div class="row">
				<div class="col-lg-12">
					<div class="footer_nav_container">
						<div class="cr">Â©2018 All Rights Reserverd. Made with <i class="fa fa-heart-o" aria-hidden="true"></i> by <a href="#">Colorlib</a> &amp; distributed by <a href="https://themewagon.com">ThemeWagon</a></div>
					</div>
				</div>
			</div>
		</div>
	</footer>

</div>

<!-- SCRIPTS -->
<script src="js/jquery-3.2.1.min.js"></script>
<script src="styles/bootstrap4/popper.js"></script>
<script src="styles/bootstrap4/bootstrap.min.js"></script>
<script src="plugins/Isotope/isotope.pkgd.min.js"></script>
<script src="plugins/OwlCarousel2-2.2.1/owl.carousel.js"></script>
<script src="plugins/easing/easing.js"></script>
<script src="js/custom.js"></script>
<script>
$(document).ready(function() {
    "use strict";

    // --- Header Scroll Behavior ---
    var header = $('.header');
    setHeader();
    $(window).on('resize', function() { setHeader(); });
    $(document).on('scroll', function() { setHeader(); });
    function setHeader() {
        if ($(window).scrollTop() > 100) {
            header.addClass('scrolled');
        } else {
            header.removeClass('scrolled');
        }
    }

    // --- Hamburger Menu ---
    var menuActive = false;
    $('.hamburger_container').on('click', function() {
        if (!menuActive) {
            $('.hamburger_menu').addClass('active');
            $('.fs_menu_overlay').addClass('active');
            menuActive = true;
        } else {
            $('.hamburger_menu').removeClass('active');
            $('.fs_menu_overlay').removeClass('active');
            menuActive = false;
        }
    });

    $('.fs_menu_overlay').on('click', function() {
        $('.hamburger_menu').removeClass('active');
        $('.fs_menu_overlay').removeClass('active');
        menuActive = false;
    });

    $('.hamburger_close').on('click', function() {
        $('.hamburger_menu').removeClass('active');
        $('.fs_menu_overlay').removeClass('active');
        menuActive = false;
    });

    // --- Dropdown menus in header and hamburger menu ---
    // Top nav dropdowns
    $('.top_nav_menu li.currency, .top_nav_menu li.language, .top_nav_menu li.account').on('click', function() {
        var dropdown = $(this).find('ul');
        if (dropdown.hasClass('active')) {
            dropdown.removeClass('active');
        } else {
            $('.top_nav_menu li ul').removeClass('active');
            dropdown.addClass('active');
        }
    });

    // Hamburger menu dropdowns
    $('.menu_top_nav li.has-children').on('click', function() {
        var dropdown = $(this).find('.menu_selection');
        if (dropdown.hasClass('active')) {
            dropdown.removeClass('active');
        } else {
            $('.menu_top_nav li .menu_selection').removeClass('active');
            dropdown.addClass('active');
        }
    });

    $(document).on('click', function(e) {
        if (!$(e.target).closest('.top_nav_menu li').length) {
            $('.top_nav_menu li ul').removeClass('active');
        }
    });


    // --- Checkout Page Logic ---
    const summaryItemsContainer = document.getElementById('order_summary_items');
    const GST_RATE = 0.18; // 18% GST

    function renderSummary() {
        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        summaryItemsContainer.innerHTML = cart.length === 0 ? '<p class="text-center text-muted py-3">Your cart is empty.</p>' : '';
        if (cart.length > 0) {
            cart.forEach(item => {
                if (item && item.name && typeof item.price === 'number' && typeof item.quantity === 'number') {
                    const itemEl = document.createElement('div');
                    itemEl.className = 'order_summary_item';
                    itemEl.innerHTML = `
                        <div class="order_summary_image"><img src="${item.image || 'https://via.placeholder.com/65'}" alt="${item.name}"></div>
                        <div class="order_summary_info">
                            <div>${item.quantity} x ${item.name}</div>
                            <div class="text-muted small">Price: $${item.price.toFixed(2)}</div>
                        </div>
                        <div class="order_summary_price">$${(item.price * item.quantity).toFixed(2)}</div>`;
                    summaryItemsContainer.appendChild(itemEl);
                }
            });
        }
        updateTotals(cart);
        updateCartHeaderCount(cart);
    }

    function updateTotals(cart) {
        const subtotal = cart.reduce((total, item) => total + (item.price * item.quantity), 0);
        const gst = subtotal * GST_RATE; 
        const total = subtotal + gst;
        $('#summary_subtotal').text('$' + subtotal.toFixed(2));
        $('#summary_gst').text('$' + gst.toFixed(2));
        $('#summary_total').text('$' + total.toFixed(2));
    }

    function updateCartHeaderCount(cart) {
        const cartCount = cart.reduce((total, item) => total + item.quantity, 0);
        $('#checkout_items').text(cartCount);
    }

    // Handle "Use same address for billing" checkbox
    $('#saveBilling').on('change', function() {
        if ($(this).is(':checked')) {
            // If checked, copy shipping address to billing address
            // For this simplified example, we're not explicitly showing billing fields,
            // but we'll store the same details for billing when saving the order.
        } else {
            // If unchecked, clear or allow separate billing input (if you had billing fields)
            // For now, we'll just indicate they are different when saving the order.
        }
    });


     $('#checkout_form').on('submit', function(e) {
        e.preventDefault();

        let cart = JSON.parse(localStorage.getItem('cart')) || [];
        if (cart.length === 0) {
            alert('Your cart is empty. Please add items before placing an order.');
            return;
        }

        // Gather all form data
        const email = $('#checkout_email').val();
        const shippingFirstName = $('#shipping_first_name').val();
        const shippingLastName = $('#shipping_last_name').val();
        const shippingAddress = $('#shipping_address').val();
        const shippingApartment = $('#shipping_apartment').val();
        const shippingCountry = $('#shipping_country').val();
        const shippingCity = $('#shipping_city').val();
        const shippingState = $('#shipping_state').val();
        const shippingZip = $('#shipping_zip').val();
        const shippingPhone = $('#shipping_phone').val();
        const paymentMethod = $('input[name="payment"]:checked').val();
        const shippingOption = $('input[name="shipping"]:checked').val();
        const orderNote = $('#order_note').val();
        const useSameAddressForBilling = $('#saveBilling').is(':checked');

        const subtotal = cart.reduce((total, item) => total + (item.price * item.quantity), 0);
        const gst = subtotal * GST_RATE;
        const total = subtotal + gst;

        const orderDetails = {
            orderNumber: 'BIG' + Math.floor(100000 + Math.random() * 900000), // Generate a 6-digit order number
            orderDate: new Date().toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' }),
            email: email,
            subtotal: subtotal,
            shippingCost: shippingOption === 'Free shipping' ? 0 : 0, 
            gst: gst,
            total: total,
            paymentMethod: paymentMethod,
            note: orderNote,
            shippingAddress: {
                firstName: shippingFirstName,
                lastName: shippingLastName,
                address: shippingAddress,
                apartment: shippingApartment,
                country: shippingCountry,
                city: shippingCity,
                state: shippingState,
                zip: shippingZip,
                phone: shippingPhone
            },
            billingAddress: useSameAddressForBilling ? { 
                firstName: shippingFirstName,
                lastName: shippingLastName,
                address: shippingAddress,
                apartment: shippingApartment,
                country: shippingCountry,
                city: shippingCity,
                state: shippingState,
                zip: shippingZip,
                phone: shippingPhone
            } : {
                // If not using same address, you'd typically have separate input fields.
                // For this example, if the checkbox is unchecked, we'll just log a placeholder
                // or assume an empty billing if no fields exist.
                firstName: '', // Example: clear or get from separate fields
                lastName: '',
                address: '',
                apartment: '',
                country: '',
                city: '',
                state: '',
                zip: '',
                phone: ''
            },
            orderedItems: cart 
        };

        localStorage.setItem('orderDetails', JSON.stringify(orderDetails)); // Save order details
        // DO NOT removeItem('cart') here. Let acknowledgment page consume it, or keep it until user explicitly clears.
        // Or, you could clear it after a short delay on the acknowledgment page itself.

        alert('Thank you! Your order has been placed.');
        window.location.href = 'acknowledgment.html'; // Redirect to acknowledgment page
    });

    renderSummary();
});
</script>
</body>
</html>
--- END OF FILE checkout.html ---